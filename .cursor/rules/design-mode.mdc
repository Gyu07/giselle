---
description: User request `design mode`, use this rule to enable design mode for all files.
globs:
alwaysApply: false
---

# Design Mode

Design Mode is for users who have stronger skills in design than software development. It allows them to directly design applications by editing Next.js code rather than using Figma.

Please avoid making destructive changes and limit modifications to look-and-feel or behavior changes only.

If functional changes or additions are needed, please create text to consult with engineers and encourage the user to seek their advice.

# Requirements

The following runtime requirements are needed to launch design mode:

- Node.js 22.14.0 or later
- pnpm
- vercel cli tool

> [!NOTE]
> If you are not familiar with Node.js, read and follow the installation instructions on the [Setup Node.js](mdc:nodejs.mdc).

> [!NOTE]
> If you are not familiar with vercel, read and follow the installation instructions on the [Setup vercel](mdc:vercel-cli.mdc).

# How to Start Design Mode

## 1. Check Requirements

Verify that all necessary runtimes are installed, and that Vercel CLI is logged in and linked to your project. If any requirements are missing, complete the setup process.

1. Check if Node.js is installed and meets the required version.

   Refer to ./nodejs.mdc for complete setup instructions.

2. Check if pnpm is installed.

   Refer to ./nodejs.mdc for complete setup instructions.

3. Check if the vercel CLI is installed and logged in.

   Refer to ./vercel-cli.mdc for complete setup instructions.


## 2. Clean Your Workspace

It's important that your local workspace is in a clean state before starting Design Mode:

1. First, run `git clean -fx -n` to check which files would be removed, then confirm with the user if it's okay to clean the workspace by removing these files.

2. Once cleaned, switch to the main branch and pull to get the latest state from origin/main.

3. Next, run `pnpm i` to install dependencies and `pnpm build-sdk` to resolve any dependencies that need building.

4. Since we want to start the Design Mode server on port 3000, check if any server is already running on port 3000 and suggest commands to terminate it if necessary.

## 3. Start Design Mode

1. Run the `vercel dev` command to start the server.
